!function(){"use strict"}();var app=angular.module("ConsoleNotepad",["ngRoute"]);app.directive("contenteditable",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){function r(){var e=t.html();n.stripBr&&"<br>"==e&&(e=""),o.$setViewValue(e)}o&&(o.$render=function(){t.html(o.$viewValue||"")},t.on("blur keyup change",function(){e.$apply(r)}),r())}}}),app.controller("editorController",function(e,t){e.suggestions={},e.highlightedSuggestion=-1,e.smartBarKeyDown=function(n){console.log("Refresh "+n.keyCode),32==n.keyCode&&(e.suggestions=t.getSuggested(e.smartBar).success(function(t){console.table(t),e.suggestions=t}),console.log("Refreshed")),40==n.keyCode&&e.highlightedSuggestion<e.suggestions.length-1&&(n.preventDefault(),e.highlightedSuggestion++),38==n.keyCode&&e.highlightedSuggestion>-1&&(n.preventDefault(),e.highlightedSuggestion--)}}),app.factory("notes",["$http",function(e){var t={};return t.get=function(){return e.get("/api/notes").success(function(e){return e}).error(function(e){return e})},t.getSuggested=function(t){return e({method:"GET",url:"/api/notes/suggested?searchText="+t,headers:{Accept:"application/json"}})},t.post=function(t){return e.get("/api/notes/",{TagsToAdd:t}).success(function(e){return e}).error(function(e){return e})},t.put=function(t){return e.get("/api/notes/",t).success(function(e){return e}).error(function(e){return e})},t}]);